<!DOCTYPE html>
<html lang="en">
  <!-- Beautiful Jekyll | MIT license | Copyright Dean Attali 2016 -->
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Arduino Temp monitor : 16x2 LCD</title>

  <meta name="author" content="Mpho Mphego" />
  <meta name="theme-color" content="#a50509">
  <meta name="description" content="Hi! I'm Mpho Mphego, a programmer, software developer. Loves to meet new people, connect, discuss, network and grow, mostly at software developers’ conferences, dev-fests and gaming meet-ups.">
  <meta name="keywords" content="Mpho , geek, linux, science, math, mathematics, raspberry pi, music, Internet of Things, research, android, ubuntu, python, docker">

  <!-- favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />

  <!-- MathJax -->
  <script type="text/x-mathjax-config">MathJax.Hub.Config({messageStyle: 'none',tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});</script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>

  <link rel="alternate" type="application/rss+xml" title="Mpho Mphego - Welcome to the geek side!" href="/feed.xml" />

  

  
    
      
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css" />

    
  

  
    
      <link rel="stylesheet" href="/css/bootstrap.min.css" />
    
      <link rel="stylesheet" href="/css/bootstrap-social.css" />
    
      <link rel="stylesheet" href="/css/main.css" />
    
  

  
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
    
  

  

  

  

    <!-- Facebook OpenGraph tags -->
  

  
  <meta property="og:title" content="Arduino Temp monitor : 16x2 LCD" />
  

   
  <meta property="og:description" content="Phase 1:I have been procrastinating on creating a home automation system until I decided to dedicate a few of my hours to this project. I have decided to use an Arduino and a Raspberry Pi combination. The idea is to have the Arduino running all ADC calculations and sensors as...">
  


  <meta property="og:type" content="website" />

  
  <meta property="og:url" content="http://localhost:4000/blog/2014/12/17/arduino-thermometer-on-lcd.html" />
  <link rel="canonical" href="http://localhost:4000/blog/2014/12/17/arduino-thermometer-on-lcd.html" />
  

  
  <meta property="og:image" content="http://localhost:4000/img/main.jpg" />
  


  <!-- Twitter summary cards -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@" />
  <meta name="twitter:creator" content="@" />

  
  <meta name="twitter:title" content="Arduino Temp monitor : 16x2 LCD" />
  

  
  <meta name="twitter:description" content="Phase 1:I have been procrastinating on creating a home automation system until I decided to dedicate a few of my hours to this project. I have decided to use an Arduino and a Raspberry Pi combination. The idea is to have the Arduino running all ADC calculations and sensors as...">
  

  
  <meta name="twitter:image" content="http://localhost:4000/img/main.jpg" />
  

</head>


  <body>
    
    
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
        <a class="navbar-brand" href="http://localhost:4000">Mpho Mphego</a>
      
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
          <li>
            






<a href="//resume/MphoMphego.pdf">Resume</a>
          </li>
        
        
        
          <li>
            






<a href="/tags">Tags</a>
          </li>
        
        
      </ul>
    </div>

<!-- ALways use my avatar, irrespective of the post image -->
  <div class="avatar-container">
    <div class="avatar-img-border">
      <a href="http://localhost:4000 ">
        <img class="avatar-img" src="http://localhost:4000/img/av.png" />
     </a>
    </div>
  </div>

  </div>
</nav>

    <!-- TODO this file has become a mess, refactor it -->


<div class="intro-header"></div>


<div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      

      <article role="main" class="blog-post">
        <p>Phase 1:I have been procrastinating on creating a home automation system until I decided to dedicate a few of my hours to this project.<br />
I have decided to use an Arduino and a Raspberry Pi combination.</p>
<p>The idea is to have the Arduino running all ADC calculations and sensors as the Pi is not equipped with an ADC, and use the Pi as logger and dashboard using apache2/graphite or something along those lines.</p>
<p>So first things first I had to re-brush myself with C code after 2 years of not using C.</p>
<p>[sourcecode language="c"]<br />
/*<br />
Arduino thermometer, LCD Display, Thermistor</p>
<p>Its an arduino project, creating a temperature measurer, with a thermistor, and outputs to an lcd display.</p>
<p>Parts list:<br />
16x2 LCD<br />
10k Thermistor<br />
10k Variable Resistor<br />
Breadboard/Veroboard<br />
10k resistor<br />
Arduino ( I use UNO)</p>
<p>How I did it:</p>
<p>The LCD circuit:<br />
 * LCD RS pin to digital pin 12<br />
 * LCD Enable pin to digital pin 11<br />
 * LCD D4 pin to digital pin 5<br />
 * LCD D5 pin to digital pin 4<br />
 * LCD D6 pin to digital pin 3<br />
 * LCD D7 pin to digital pin 2<br />
 * LCD R/W pin to ground<br />
 * 10K resistor:<br />
 * ends to +5V and ground<br />
 * wiper to LCD VO pin (pin 3)</p>
<p>The Thermistor Circuit:<br />
AREF---+3.3V----Therm----A0(Arduino)----10k res---&gt; Gnd</p>
<p>Better Readings:<br />
When doing analog readings, especially with a 'noisy' board like the arduino, we suggest two tricks to improve results. One is to use the 3.3V voltage pin as an analog reference and the other is to take a bunch of readings in a row and average them.<br />
The first trick relies on the fact that the 5V power supply that comes straight from your computer's USB does a lot of stuff on the Arduino, and is almost always much noisier than the 3.3V line (which goes through a secondary filter/regulator stage!) It's easy to use, simply connect 3.3V to AREF and use that as the VCC voltage. Because our calcuations don't include the VCC voltage, you don't have to change your equation. You do have to set the analog reference but that's a single line of code<br />
Taking multiple readings to average out the result helps get slightly better results as well, since you may have noise or fluctuations, we suggest about 5 samples.</p>
<p>Here's the code<br />
*/<br />
#include &lt;LiquidCrystal.h&gt;</p>
<p>LiquidCrystal lcd(12, 11, 5, 4, 3, 2);<br />
// which analog pin to connect<br />
#define THERMISTORPIN A0<br />
// resistance at 25 degrees C<br />
#define THERMISTORNOMINAL 10000<br />
// temp. for nominal resistance (almost always 25 C)<br />
#define TEMPERATURENOMINAL 25<br />
// how many samples to take and average, more takes longer<br />
// but is more 'smooth'<br />
#define NUMSAMPLES 5<br />
// The beta coefficient of the thermistor (usually 3000-4000)<br />
#define BCOEFFICIENT 3950<br />
// the value of the 'other' resistor<br />
#define SERIESRESISTOR 10000    </p>
<p>int samples[NUMSAMPLES];</p>
<p>void setup(void) {<br />
  lcd.begin(16, 2);<br />
  lcd.clear();<br />
  Serial.begin(9600);<br />
  analogReference(EXTERNAL);<br />
}</p>
<p>void loop(void) {<br />
  uint8_t i;<br />
  float average;</p>
<p>  // take N samples in a row, with a slight delay<br />
  for (i=0; i&lt; NUMSAMPLES; i++) {<br />
   samples[i] = analogRead(THERMISTORPIN);<br />
   delay(10);<br />
  }</p>
<p>  // average all the samples out<br />
  average = 0;<br />
  for (i=0; i&lt; NUMSAMPLES; i++) {<br />
     average += samples[i];<br />
  }<br />
  average /= NUMSAMPLES;</p>
<p>//  Serial.print(&quot;Average analog reading &quot;);<br />
//  Serial.println(average);</p>
<p>  // convert the value to resistance<br />
  average = 1023 / average - 1;<br />
  average = SERIESRESISTOR / average;<br />
//-------------------------------------------<br />
// To display on Serial monitor<br />
//  Serial.print(&quot;Thermistor resistance &quot;);<br />
//  Serial.println(average);</p>
<p>// Read about the Steinhart–Hart equation<br />
// http://en.wikipedia.org/wiki/Steinhart%E2%80%93Hart_equation</p>
<p>  float steinhart;<br />
  steinhart = average / THERMISTORNOMINAL;     // (R/Ro)<br />
  steinhart = log(steinhart);                  // ln(R/Ro)<br />
  steinhart /= BCOEFFICIENT;                   // 1/B * ln(R/Ro)<br />
  steinhart += 1.0 / (TEMPERATURENOMINAL + 273.15); // + (1/To)<br />
  steinhart = 1.0 / steinhart;                 // Invert<br />
  steinhart -= 273.15;                         // convert to C</p>
<p>//-------------------------------------------<br />
// To display on Serial monitor<br />
//  Serial.print(&quot;Temperature &quot;);<br />
//  Serial.print(steinhart);<br />
//  Serial.println(&quot; *C&quot;);<br />
  //delay(1000);<br />
  lcd.setCursor(0, 0);<br />
  lcd.print(&quot;Temp : &quot;);<br />
  lcd.print(steinhart);<br />
  lcd.print(&quot;\337C&quot;);<br />
  //lcd.print(&quot; *C&quot;);<br />
  lcd.setCursor(0, 1);<br />
  lcd.print(&quot;SANSA Office&quot;);<br />
  delay(1000);<br />
  lcd.clear();<br />
}<br />
[/sourcecode]</p>

      </article>

      
        <div class="blog-tags">
          Tags:
          
          
            <a href="/tags#LCD">LCD</a>
          
            <a href="/tags#thermistor">thermistor</a>
          
          
        </div>
      

      

      <ul class="pager blog-pager">
        
        <li class="previous">
          <a href="/blog/2014/10/26/advice-from-an-old-programmer.html" data-toggle="tooltip" data-placement="top" title="Advice from an Old Programmer">&larr; Previous Post</a>
        </li>
        
        
        <li class="next">
          <a href="/blog/2014/12/17/arduino-temp-monitor-webserver.html" data-toggle="tooltip" data-placement="top" title="Arduino Temp Monitor : Webserver">Next Post &rarr;</a>
        </li>
        
      </ul>

      
        <div class="disqus-comments">
          <div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'mmphego-github-io';
        /* ensure that pages with query string get the same discussion */
            var url_parts = window.location.href.split("?");
            var disqus_url = url_parts[0];
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
        </div>
      
    </div>
  </div>
</div>

    <footer>
  <div class="container beautiful-jekyll-footer">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
          <li>
            <a href="https://github.com/mmphego" title="GitHub">
              <span class="fa-stack fa-lg" aria-hidden="true">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
              <span class="sr-only">GitHub</span>
            </a>
          </li>
          
      
    
      
      
      
          <li>
            <a href="https://linkedin.com/in/mphomphego" title="LinkedIn">
              <span class="fa-stack fa-lg" aria-hidden="true">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
              </span>
              <span class="sr-only">LinkedIn</span>
            </a>
          </li>
          
      
      
          <li>
            <a href="https://stackoverflow.com/users/6165344/mpho-mphego" title="StackOverflow">
              <span class="fa-stack fa-lg" aria-hidden="true">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
              </span>
              <span class="sr-only">StackOverflow</span>
            </a>
          </li>
          
      
      
      
          <li>
            <a href="https://www.youtube.com/xxXMphoXxx" title="YouTube">
              <span class="fa-stack fa-lg" aria-hidden="true">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-youtube fa-stack-1x fa-inverse"></i>
              </span>
              <span class="sr-only">YouTube</span>
            </a>
          </li>
          
      
      
      
          <li>
            <a href="/feed.xml" title="RSS">
              <span class="fa-stack fa-lg" aria-hidden="true">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
              <span class="sr-only">RSS</span>
            </a>
          </li>
          
      
      
      
        </ul>
        <p class="copyright text-muted">
      Mpho Mphego
      &nbsp;&bull;&nbsp;
      2018

      
      </p>
          <!-- Please don't remove this, keep my open source work credited :) -->
    <p class="theme-by text-muted">
      Awesome Theme by
      <a href="http://deanattali.com/beautiful-jekyll/">beautiful-jekyll</a>
    </p>
      </div>
    </div>
  </div>
</footer>
  
    






  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script>
        if (typeof jQuery == 'undefined') {
          document.write('<script src="/js/jquery-1.11.2.min.js"></scr' + 'ipt>');
        }
      </script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
  <script src="/js/bootstrap.min.js"></script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
  <script src="/js/main.js"></script>
    
  



	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-68808612-1', 'auto');
		ga('send', 'pageview');
	</script>
	<!-- End Google Analytics -->

  
  </body>
</html>
